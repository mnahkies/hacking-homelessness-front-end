<form>
  <mat-card>

    <mat-card-content *ngIf="currentQuestionId; else loading">
      <h1>{{currentQuestion.text}}</h1>

      <textarea *ngIf="currentQuestion.type === 'free-form'; else multiChoice"
                [(ngModel)]="currentAnswer">

    </textarea>

      <ng-template #multiChoice>

        <mat-radio-group name="answer" [(ngModel)]="currentAnswer">

          <ng-container *ngFor="let answer of currentQuestion.answers">
            <mat-radio-button [value]="answer.id">{{answer.text}}</mat-radio-button>
            <br/>
          </ng-container>

        </mat-radio-group>

      </ng-template>

    </mat-card-content>

    <ng-template #loading>
      <mat-card-content>
        <div style="display: flex; align-content: center; justify-content: center">
          <mat-progress-spinner></mat-progress-spinner>
        </div>
      </mat-card-content>
    </ng-template>


    <mat-card-actions>

      <button mat-button (click)="onPrev()">
        Previous
      </button>

      <button mat-button (click)="onNext()">
        Next
      </button>

    </mat-card-actions>
  </mat-card>
</form>
